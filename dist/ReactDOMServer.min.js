!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream")):"function"==typeof define&&define.amd?define(["stream"],t):e.ReactDOMServer=t(e.stream)}(this,function(e){function t(e,t){for(var r in t)E.call(t,r)&&(e[r]=t[r]);return e}function r(e,t){e+""===e&&(e=e.match(L)||[]);for(var r={},n=void 0!==t?t:1,o=0,a=e.length;o<a;o++)r[e[o]]=n;return r}function n(e){return null===e?1:void 0===e?0:I[T.call(e)]||8}function o(){return this}function a(e,t,r,o,a){if(this.type=e,this.vtype=t,this.tag=$[t],t){this.props=r,this._owner=R.currentOwner,o&&(this.key=o);var i=n(a);3!==i&&4!==i&&5!==i||(this._hasRef=!0,this.ref=a)}F.afterCreate(this)}function i(e,t){var r=new a(e,0);return r.text=t,r}function u(e,t,r){var o=n(e);if(o<3)D=null;else{if(o<5){if(D)return void(D.text+=e);D=e=i("#text",e+"")}else D=null;var a=e.key;a&&!P[".$"+a]?P[".$"+a]=e:("."===t&&(t="."+H),P[t]=e),e.index=H,e.return=r,W&&(W.sibling=e),W=e,H++,B.push(e)}}function c(e,t){P={},W=null,B=[];var r=t._reactInternalFiber;if(void 0!==e){D=null,H=0,f(e,"",u,r);var n=B[0];n&&(r.child=n),W&&delete W.sibling}return t.children=P}function f(e,t,r,n){var o;if(e){if(e.forEach)return void e.forEach(function(e,o){f(e,t?t+":"+o:"."+o,r,n)});if(o=l(e)){for(var a,i=o.call(e),u=0;!(a=i.next()).done;)f(a.value,t?t+":"+u:"."+u,r,n),u++;return}}if(Object(e)===e&&!e.call&&!e.type)throw"children中存在非法的对象";r(e,t||".",n)}function l(e){if(n(e)>7){var t=q&&e[q]||e[U];if(t&&t.call)return t}}function s(e){this.nodeName=e,this.style={},this.children=[]}function p(e,r){if(e.getChildContext){var n=e.getChildContext();n&&(r=t(t({},r),n))}return r}function d(e,t){var r={};if(!t||!e)return r;for(var n in t)t.hasOwnProperty(n)&&(r[n]=e[n]);return r}function v(e){var t=""+e,r=Q.exec(t);if(!r)return t;var n,o="",a=0,i=0;for(a=r.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==a&&(o+=t.substring(i,a)),i=a+1,o+=n}return i!==a?o+t.substring(i,a):o}function m(e){return"boolean"==typeof e||"number"==typeof e?""+e:v(e)}function b(e){return ne[e]?ne[e]:ne[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase()}function h(e){var t=[];for(var r in e)e[r]&&t.push(r);return t.join(" ")}function y(e){return ae[e]?ae[e]:ae[e]='"'+m(e)+'"'}function x(e){return!1!==e&&Object(e)!==e}function g(e){var t=[];for(var r in e){var n=e[r];if(null!=e){var o="";Y.test(n)&&!ee[name]&&(o="px"),t.push(b(name)+": "+n+o)}}return t.join("; ")}function w(e,t){var r=[];for(var n in e){var o=e[n];if(!re[n]){var a=!1;if("className"===n||"class"===n)n="class",o&&"object"===(void 0===o?"undefined":te(o))&&(o=h(o),a=!0);else if("style"===n){if(Object(o)!=o)continue;o=g(o),a=!0}else"defaultValue"===n?ie[t]&&(n="value"):"defaultChecked"===n?ie[t]&&(n="checked",o="",a=!0):n.match(oe)&&(n=n.toLowerCase().replace(oe,"xlink:$1"));(a||x(o))&&r.push(n+"="+y(o+""))}}return r.length?" "+r.join(" "):""}function S(e,t){var r=e,n=r.vtype,o=r.type,a=r.props;switch(o){case"#text":return m(e.text);case"#comment":return"\x3c!--"+e.text+"--\x3e";default:var i=a&&a.dangerouslySetInnerHTML;if(i=i&&i.__html,1===n){if("option"===o){for(var u=e.return;u&&"select"!==u.type;u===u.return);if(u&&u.valuesSet){var f=C(e);u.valuesSet["&"+f]&&(a=Object.assign({selected:""},a))}}else if("select"===o){var l=e.props.value||e.props.defaultValue;if(null!=l){var s={};[].concat(l).forEach(function(e){s["&"+e]=!0}),e.valuesSet=s}}var p="<"+o+w(a,o);if(ce[o])return p+"/>\n";if(p+=">",i)p+=i;else{var d={_reactInternalFiber:e},v=c(a.children,d);for(var b in v)p+=S(v[b],t);e.updater=d}return p+"</"+o+">\n"}if(n>1){var h={context:t};return e=N(e,h),t=h.context,S(e,t)}if(Array.isArray(e)){var y="";return e.forEach(function(e){y+=S(e,t)}),y}throw"数据不合法"}}function k(e,t){var r,n,o,a,i,u,f,l,s,p,d,v,b,h,y,x,g;return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:n=(r=e).vtype,o=r.type,a=r.props,k.t0=o,k.next="#text"===k.t0?4:"#comment"===k.t0?7:10;break;case 4:return k.next=6,m(e.text);case 6:return k.abrupt("break",40);case 7:return k.next=9,"\x3c!--"+e.text+"--\x3e";case 9:return k.abrupt("break",40);case 10:if(i=a&&a.dangerouslySetInnerHTML,i=i&&i.__html,1!==n){k.next=24;break}if("option"===o){for(u=e.return;u&&"select"!==u.type;u===u.return);u&&u.valuesSet&&(f=C(e),u.valuesSet["&"+f]&&(a=Object.assign({selected:""},a)))}else"select"===o&&null!=(l=e.props.value||e.props.defaultValue)&&(s=[].concat(l),p={},s.forEach(function(e){p["&"+e]=!0}),e.valuesSet=p);if(d="<"+o+w(a,o),!ce[o]){k.next=18;break}return k.next=18,d+"/>\n";case 18:if(d+=">",i)d+=i;else{v={vnode:e},b=c(a.children,v);for(h in b)y=b[h],d+=S(y,t);e.updater=v}return k.next=22,d+"</"+o+">\n";case 22:k.next=40;break;case 24:if(!(n>1)){k.next=32;break}return x={context:t},e=N(e,x),t=x.context,k.next=30,S(e,t);case 30:k.next=40;break;case 32:if(!Array.isArray(e)){k.next=39;break}return g="",e.forEach(function(e){g+=S(e,t)}),k.next=37,g;case 37:k.next=40;break;case 39:throw"数据不合法";case 40:case"end":return k.stop()}},ue,this)}function C(e){if("value"in e.props)return e.props.value;var t=e.props.children;return t+""=="a"?t:t.text}function N(e,t){var r,n,o=t.context,a=e.type;if(e.vtype>1){var i=e.props,u=d(o,a.contextTypes);if(4===e.vtype)(n=a(i,u))&&n.render&&(n=n.render()),r={};else{if(r=new a(i,u),r.props=r.props||i,r.context=r.context||u,r.componentWillMount)try{r.componentWillMount()}catch(e){}n=r.render()}return n=j(n),r.componentWillMount&&r.componentWillMount(),r.getChildContext&&(t.context=p(r,o)),Array.isArray(n)?n.map(function(e){return N(e,t,r)}):N(n,t,r)}return e}function j(e){var t=n(e);return t<3?{vtype:0,text:"",type:"#text"}:t<5?{vtype:0,text:e+"",type:"#text"}:e}function O(e,t){return S(j(e),t||{})}function M(t,r){var n=new e.Readable,o=k(t,r||{});return n._read=function(){var e=o.next();e.done?n.push(null):n.push(e.value.toString())},n}var A="function"==typeof Symbol&&Symbol.for,E=Object.prototype.hasOwnProperty,_=A?Symbol.for("react.element"):60103,T=(A&&Symbol.for("react.fragment"),Object.prototype.toString),L=/[^, ]+/g,F=r(["beforeProps","afterCreate","beforeInsert","beforeDelete","beforeUpdate","afterUpdate","beforePatch","afterPatch","beforeUnmount","afterMount"],function(){}),I={"[object Boolean]":2,"[object Number]":3,"[object String]":4,"[object Function]":5,"[object Symbol]":6,"[object Array]":7};window.pendingRefs=[];var R={mountOrder:1,currentOwner:null,controlledCbs:[],fireRef:function(e,t){(e._disposed||e.stateNode.__isStateless)&&(t=null);var r=e.ref;if("function"==typeof r)return r(t);var n=e._owner;if(r){if(!n)throw"Element ref was specified as a string ("+r+") but no owner was set";t?(t.nodeType&&(t.getDOMNode=o),n.refs[r]=t):delete n.refs[r]}}},$={0:6,4:1,2:2,1:5};a.prototype={getDOMNode:function(){return this.stateNode||null},$$typeof:_};var D,H,P,W,B,q=A&&Symbol.iterator,U="@@iterator",V=s.prototype={contains:Boolean};String("replaceChild,appendChild,removeAttributeNS,setAttributeNS,removeAttribute,setAttribute,getAttribute,insertBefore,removeChild,addEventListener,removeEventListener,attachEvent,detachEvent").replace(/\w+/g,function(e){V[e]=function(){console.log("fire "+e)}});var z=new s;z.createElement=z.createElementNS=z.createDocumentFragment=function(e){return new s(e)},z.createTextNode=z.createComment=Boolean,z.documentElement=new s("html"),z.body=new s("body"),z.nodeName="#document",z.textContent="";try{var G=window;G.alert}catch(e){!1,G={document:z}}var X=G,Z=G.document||z,J=(Z.createDocumentFragment(),{88:7,80:6,"00":NaN,"08":NaN}),K=Z.documentMode||J[n(Z.all)+""+n(X.XMLHttpRequest)],Q=(/NaN|undefined/.test(K),/["'&<>]/),Y=/^-?\d+(\.\d+)?$/,ee=r("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),te=(r("float","cssFloat"),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),re={ref:1,key:1,children:1,dangerouslySetInnerHTML:1,innerHTML:1},ne={styleFloat:"float",cssFloat:"float"},oe=/^xlink:?(.+)/,ae={},ie={select:1,input:1,textarea:1},ue=regeneratorRuntime.mark(k),ce=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];return{renderToString:O,renderToStaticMarkup:O,renderToNodeStream:M,renderToStaticNodeStream:M}});