!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream")):"function"==typeof define&&define.amd?define(["stream"],t):e.ReactDOMServer=t(e.stream)}(this,function(e){function t(e,t){e+""===e&&(e=e.match(T)||[]);for(var r={},n=void 0!==t?t:1,o=0,a=e.length;o<a;o++)r[e[o]]=n;return r}function r(e){return null===e?1:void 0===e?0:L[E.call(e)]||8}function n(){return this}function o(e,t,n,o,a){if(this.type=e,this.vtype=t,t){this.props=n,this._owner=R.currentOwner,o&&(this.key=o);var i=r(a);3!==i&&4!==i&&5!==i||(this._hasRef=!0,this.ref=a)}_.afterCreate(this)}function a(e,t){var r=new o(e,0);return r.text=t,r}function i(e,t,n){var o=r(e);if(o<3)$=null;else{if(o<5){if($)return void($.text+=e);$=e=a("#text",e+"")}else $=null;var i=e.key;i&&!F[".$"+i]?F[".$"+i]=e:("."===t&&(t="."+D),F[t]=e),e.index=D,e.return=n,H&&(H.sibling=e),H=e,D++,I.push(e)}}function u(e,t){F={},H=null,I=[];var r=t.vnode;if(void 0!==e){$=null,D=0,c(e,"",i,r);var n=I[0];n&&(r.child=n),H&&delete H.sibling}return t.children=F}function c(e,t,r,n){var o;if(e){if(e.forEach)return void e.forEach(function(e,o){c(e,t?t+":"+o:"."+o,r,n)});if(o=f(e)){for(var a,i=o.call(e),u=0;!(a=i.next()).done;)c(a.value,t?t+":"+u:"."+u,r,n),u++;return}}if(Object(e)===e&&!e.call&&!e.type)throw"children中存在非法的对象";r(e,t||".",n)}function f(e){if(r(e)>7){var t=W&&e[W]||e[B];if(t&&t.call)return t}}function l(e){this.nodeName=e,this.style={},this.children=[]}function s(e,t){if(e.getChildContext){var r=e.getChildContext();r&&(t=Object.assign({},t,r))}return t}function p(e,t){var r={};if(!t||!e)return r;for(var n in t)t.hasOwnProperty(n)&&(r[n]=e[n]);return r}function d(e){var t=""+e,r=Z.exec(t);if(!r)return t;var n,o="",a=0,i=0;for(a=r.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==a&&(o+=t.substring(i,a)),i=a+1,o+=n}return i!==a?o+t.substring(i,a):o}function v(e){return"boolean"==typeof e||"number"==typeof e?""+e:d(e)}function m(e){return ee[e]?ee[e]:ee[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase()}function b(e){var t=[];for(var r in e)e[r]&&t.push(r);return t.join(" ")}function h(e){return re[e]?re[e]:re[e]='"'+v(e)+'"'}function y(e){return!1!==e&&Object(e)!==e}function x(e){var t=[];for(var r in e){var n=e[r];if(null!=e){var o="";J.test(n)&&!K[name]&&(o="px"),t.push(m(name)+": "+n+o)}}return t.join("; ")}function g(e,t){var r=[];for(var n in e){var o=e[n];if(!Y[n]){var a=!1;if("className"===n||"class"===n)n="class",o&&"object"===(void 0===o?"undefined":Q(o))&&(o=b(o),a=!0);else if("style"===n){if(Object(o)!=o)continue;o=x(o),a=!0}else"defaultValue"===n?ne[t]&&(n="value"):"defaultChecked"===n?ne[t]&&(n="checked",o="",a=!0):n.match(te)&&(n=n.toLowerCase().replace(te,"xlink:$1"));(a||y(o))&&r.push(n+"="+h(o+""))}}return r.length?" "+r.join(" "):""}function S(e,t){var r=e,n=r.vtype,o=r.type,a=r.props;switch(o){case"#text":return v(e.text);case"#comment":return"\x3c!--"+e.text+"--\x3e";default:var i=a&&a.dangerouslySetInnerHTML;if(i=i&&i.__html,1===n){if("option"===o){for(var c=e.return;c&&"select"!==c.type;c===c.return);if(c&&c.valuesSet){var f=k(e);c.valuesSet["&"+f]&&(a=Object.assign({selected:""},a))}}else if("select"===o){var l=e.props.value||e.props.defaultValue;if(null!=l){var s={};[].concat(l).forEach(function(e){s["&"+e]=!0}),e.valuesSet=s}}var p="<"+o+g(a,o);if(ae[o])return p+"/>\n";if(p+=">",i)p+=i;else{var d={vnode:e},m=u(a.children,d);for(var b in m)p+=S(m[b],t);e.updater=d}return p+"</"+o+">\n"}if(n>1){var h={context:t};return e=C(e,h),t=h.context,S(e,t)}if(Array.isArray(e)){var y="";return e.forEach(function(e){y+=S(e,t)}),y}throw"数据不合法"}}function w(e,t){var r,n,o,a,i,c,f,l,s,p,d,m,b,h,y,x,w;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:n=(r=e).vtype,o=r.type,a=r.props,N.t0=o,N.next="#text"===N.t0?4:"#comment"===N.t0?7:10;break;case 4:return N.next=6,v(e.text);case 6:return N.abrupt("break",40);case 7:return N.next=9,"\x3c!--"+e.text+"--\x3e";case 9:return N.abrupt("break",40);case 10:if(i=a&&a.dangerouslySetInnerHTML,i=i&&i.__html,1!==n){N.next=24;break}if("option"===o){for(c=e.return;c&&"select"!==c.type;c===c.return);c&&c.valuesSet&&(f=k(e),c.valuesSet["&"+f]&&(a=Object.assign({selected:""},a)))}else"select"===o&&null!=(l=e.props.value||e.props.defaultValue)&&(s=[].concat(l),p={},s.forEach(function(e){p["&"+e]=!0}),e.valuesSet=p);if(d="<"+o+g(a,o),!ae[o]){N.next=18;break}return N.next=18,d+"/>\n";case 18:if(d+=">",i)d+=i;else{m={vnode:e},b=u(a.children,m);for(h in b)y=b[h],d+=S(y,t);e.updater=m}return N.next=22,d+"</"+o+">\n";case 22:N.next=40;break;case 24:if(!(n>1)){N.next=32;break}return x={context:t},e=C(e,x),t=x.context,N.next=30,S(e,t);case 30:N.next=40;break;case 32:if(!Array.isArray(e)){N.next=39;break}return w="",e.forEach(function(e){w+=S(e,t)}),N.next=37,w;case 37:N.next=40;break;case 39:throw"数据不合法";case 40:case"end":return N.stop()}},oe,this)}function k(e){if("value"in e.props)return e.props.value;var t=e.props.children;return t+""=="a"?t:t.text}function C(e,t){var r,n,o=t.context,a=e.type;if(e.vtype>1){var i=e.props,u=p(o,a.contextTypes);if(4===e.vtype)(n=a(i,u))&&n.render&&(n=n.render()),r={};else{if(r=new a(i,u),r.props=r.props||i,r.context=r.context||u,r.componentWillMount)try{r.componentWillMount()}catch(e){}n=r.render()}return n=N(n),r.componentWillMount&&r.componentWillMount(),r.getChildContext&&(t.context=s(r,o)),Array.isArray(n)?n.map(function(e){return C(e,t,r)}):C(n,t,r)}return e}function N(e){var t=r(e);return t<3?{vtype:0,text:"",type:"#text"}:t<5?{vtype:0,text:e+"",type:"#text"}:e}function j(e,t){return S(N(e),t||{})}function M(t,r){var n=new e.Readable,o=w(t,r||{});return n._read=function(){var e=o.next();e.done?n.push(null):n.push(e.value.toString())},n}var O="function"==typeof Symbol&&Symbol.for,A=O?Symbol.for("react.element"):60103,E=(O&&Symbol.for("react.fragment"),Object.prototype.toString),T=/[^, ]+/g,_=t(["beforeProps","afterCreate","beforeInsert","beforeDelete","beforeUpdate","afterUpdate","beforePatch","afterPatch","beforeUnmount","afterMount"],function(){}),L={"[object Boolean]":2,"[object Number]":3,"[object String]":4,"[object Function]":5,"[object Symbol]":6,"[object Array]":7};window.pendingRefs=[];var R={mountOrder:1,currentOwner:null,controlledCbs:[],fireRef:function(e,t){(e._disposed||e.stateNode.__isStateless)&&(t=null);var r=e.ref;if("function"==typeof r)return r(t);var o=e._owner;if(r){if(!o)throw"Element ref was specified as a string ("+r+") but no owner was set";t?(t.nodeType&&(t.getDOMNode=n),o.refs[r]=t):delete o.refs[r]}}};o.prototype={getDOMNode:function(){return this.stateNode||null},$$typeof:A};var $,D,F,H,I,W=O&&Symbol.iterator,B="@@iterator",P=l.prototype={contains:Boolean};String("replaceChild,appendChild,removeAttributeNS,setAttributeNS,removeAttribute,setAttribute,getAttribute,insertBefore,removeChild,addEventListener,removeEventListener,attachEvent,detachEvent").replace(/\w+/g,function(e){P[e]=function(){console.log("fire "+e)}});var q=new l;q.createElement=q.createElementNS=q.createDocumentFragment=function(e){return new l(e)},q.createTextNode=q.createComment=Boolean,q.documentElement=new l("html"),q.body=new l("body"),q.nodeName="#document",q.textContent="";try{var U=window;U.alert}catch(e){!1,U={document:q}}var V=U,z=U.document||q,G=(z.createDocumentFragment(),{88:7,80:6,"00":NaN,"08":NaN}),X=z.documentMode||G[r(z.all)+""+r(V.XMLHttpRequest)],Z=(/NaN|undefined/.test(X),/["'&<>]/),J=/^-?\d+(\.\d+)?$/,K=t("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),Q=(t("float","cssFloat"),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),Y={ref:1,key:1,children:1,dangerouslySetInnerHTML:1,innerHTML:1},ee={styleFloat:"float",cssFloat:"float"},te=/^xlink:?(.+)/,re={},ne={select:1,input:1,textarea:1},oe=regeneratorRuntime.mark(w),ae=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];return{renderToString:j,renderToStaticMarkup:j,renderToNodeStream:M,renderToStaticNodeStream:M}});