!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream")):"function"==typeof define&&define.amd?define(["stream"],t):e.ReactDOMServer=t(e.stream)}(this,function(e){function t(e,t){for(var r in t)_.call(t,r)&&(e[r]=t[r]);return e}function r(e,t){e+""===e&&(e=e.match(R)||[]);for(var r={},n=void 0!==t?t:1,o=0,a=e.length;o<a;o++)r[e[o]]=n;return r}function n(e){return null===e?1:void 0===e?0:I[L.call(e)]||8}function o(){return this}function a(e,t,r,o,a){if(this.type=e,this.tag=t,6!==t){this.props=r,this._owner=$.currentOwner,o&&(this.key=o);var i=n(a);3!==i&&4!==i&&5!==i||(this._hasRef=!0,this.ref=a)}F.afterCreate(this)}function i(e){return e.children}function u(e,t){var r=new a(e,6);return r.text=t,r}function c(e,t,r){var o=n(e);if(o<3)D=null;else{if(o<5){if(D)return void(D.text+=e);D=e=u("#text",e+"")}else D=null;var a=e.key;a&&r&&(a=r+a),a&&!P[".$"+a]?P[".$"+a]=e:("."===t&&(t="."+H),P[t]=e),e.index=H++,W.push(e)}}function f(e,t){return P={},H=0,W=[],void 0!==e&&(D=null,l(e,"",c)),H=0,t._children=P}function l(e,t,r,n){var o;if(e){if(e.type===i){var a=null==n?0:n+1;return void l(e.props.children,null!=n?t?t+":0":".0":t,r,a)}if(e.forEach)return void e.forEach(function(e,o){l(e,t?t+":"+o:"."+o,r,n)});if(o=s(e)){for(var u,c=o.call(e),f=0;!(u=c.next()).done;)l(u.value,t?t+":"+f:"."+f,r,n),f++;return}}if(Object(e)===e&&!e.call&&!e.type)throw"children中存在非法的对象";r(e,t||".",n)}function s(e){if(n(e)>7){var t=B&&e[B]||e[q];if(t&&t.call)return t}}function p(e){this.nodeName=e,this.style={},this.children=[]}function d(e,t){var r={};if(!t||!e)return r;for(var n in t)t.hasOwnProperty(n)&&(r[n]=e[n]);return r}function v(e,r){var n=e.getChildContext();return n&&(r=t(t({},r),n)),r}function m(e){var t=""+e,r=K.exec(t);if(!r)return t;var n,o="",a=0,i=0;for(a=r.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==a&&(o+=t.substring(i,a)),i=a+1,o+=n}return i!==a?o+t.substring(i,a):o}function h(e){return"boolean"==typeof e||"number"==typeof e?""+e:m(e)}function b(e){return re[e]?re[e]:re[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase()}function y(e){var t=[];for(var r in e)e[r]&&t.push(r);return t.join(" ")}function x(e){return oe[e]?oe[e]:oe[e]='"'+h(e)+'"'}function g(e){return!1!==e&&Object(e)!==e}function w(e){var t=[];for(var r in e){var n=e[r];if(null!=e){var o="";Q.test(n)&&!Y[name]&&(o="px"),t.push(b(name)+": "+n+o)}}return t.join("; ")}function S(e,t){var r=[];for(var n in e){var o=e[n];if(!te[n]){var a=!1;if("className"===n||"class"===n)n="class",o&&"object"===(void 0===o?"undefined":ee(o))&&(o=y(o),a=!0);else if("style"===n){if(Object(o)!=o)continue;o=w(o),a=!0}else"defaultValue"===n?ae[t]&&(n="value"):"defaultChecked"===n?ae[t]&&(n="checked",o="",a=!0):n.match(ne)&&(n=n.toLowerCase().replace(ne,"xlink:$1"));(a||g(o))&&r.push(n+"="+x(o+""))}}return r.length?" "+r.join(" "):""}function k(e,t){var r=e,n=r.tag,o=r.type,a=r.props;switch(o){case"#text":return h(e.text);case"#comment":return"\x3c!--"+e.text+"--\x3e";default:var i=a&&a.dangerouslySetInnerHTML;if(i=i&&i.__html,5===n){if("option"===o){for(var u=e.return;u&&"select"!==u.type;u=u.return);if(u&&u.valuesSet){var c=j(e);u.valuesSet["&"+c]&&(a=Object.assign({selected:""},a))}}else if("select"===o){var l=e.props.value||e.props.defaultValue;if(null!=l){var s={};[].concat(l).forEach(function(e){s["&"+e]=!0}),e.valuesSet=s}}var p="<"+o+S(a,o);if(ue[o])return p+"/>\n";if(p+=">",i)p+=i;else{var d={_reactInternalFiber:e},v=f(a.children,d);for(var m in v){var b=v[m];b.return=e,p+=k(b,t)}e.updater=d}return p+"</"+o+">\n"}if(n<3){var y={context:t};return e=C(e,y),t=y.context,k(e,t)}if(Array.isArray(e)){var x="";return e.forEach(function(e){x+=k(e,t)}),x}throw"数据不合法"}}function N(e,t){var r,n,o,a,i,u,c,l,s,p,d,v,m,b,y,x,g;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:n=(r=e).tag,o=r.type,a=r.props,w.t0=o,w.next="#text"===w.t0?4:"#comment"===w.t0?7:10;break;case 4:return w.next=6,h(e.text);case 6:return w.abrupt("break",40);case 7:return w.next=9,"\x3c!--"+e.text+"--\x3e";case 9:return w.abrupt("break",40);case 10:if(i=a&&a.dangerouslySetInnerHTML,i=i&&i.__html,5!==n){w.next=24;break}if("option"===o){for(u=e.return;u&&"select"!==u.type;u=u.return);u&&u.valuesSet&&(c=j(e),u.valuesSet["&"+c]&&(a=Object.assign({selected:""},a)))}else"select"===o&&null!=(l=e.props.value||e.props.defaultValue)&&(s=[].concat(l),p={},s.forEach(function(e){p["&"+e]=!0}),e.valuesSet=p);if(d="<"+o+S(a,o),!ue[o]){w.next=18;break}return w.next=18,d+"/>\n";case 18:if(d+=">",i)d+=i;else{v={vnode:e},m=f(a.children,v);for(b in m)(y=m[b]).return=e,d+=k(y,t);e.updater=v}return w.next=22,d+"</"+o+">\n";case 22:w.next=40;break;case 24:if(!(n<3)){w.next=32;break}return x={context:t},e=C(e,x),t=x.context,w.next=30,k(e,t);case 30:w.next=40;break;case 32:if(!Array.isArray(e)){w.next=39;break}return g="",e.forEach(function(e){g+=k(e,t)}),w.next=37,g;case 37:w.next=40;break;case 39:throw"数据不合法";case 40:case"end":return w.stop()}},ie,this)}function j(e){if("value"in e.props)return e.props.value;var t=e.props.children;return t+""=="a"?t:t.text}function C(e,t){var r,n,o=t.context,a=e.type;if(e.tag<3){var i=e.props,u=d(o,a.contextTypes);if(1===e.tag)(n=a(i,u))&&n.render&&(n=n.render()),r={};else{if(r=new a(i,u),r.props=r.props||i,r.context=r.context||u,r.componentWillMount)try{r.componentWillMount()}catch(e){}n=r.render()}return n=O(n),r.componentWillMount&&r.componentWillMount(),r.getChildContext&&(t.context=v(r,o)),Array.isArray(n)?n.map(function(e){return C(e,t,r)}):C(n,t,r)}return e}function O(e){var t=n(e);return t<3?{tag:6,text:"",type:"#text"}:t<5?{tag:6,text:e+"",type:"#text"}:e}function M(e,t){return k(O(e),t||{})}function A(t,r){var n=new e.Readable,o=N(t,r||{});return n._read=function(){var e=o.next();e.done?n.push(null):n.push(e.value.toString())},n}var E="function"==typeof Symbol&&Symbol.for,_=Object.prototype.hasOwnProperty,T=E?Symbol.for("react.element"):60103,L=(E&&Symbol.for("react.fragment"),Object.prototype.toString),R=/[^, ]+/g,F=r(["beforeProps","afterCreate","beforeInsert","beforeDelete","beforeUpdate","afterUpdate","beforePatch","afterPatch","beforeUnmount","afterMount"],function(){}),I={"[object Boolean]":2,"[object Number]":3,"[object String]":4,"[object Function]":5,"[object Symbol]":6,"[object Array]":7};window.pendingRefs=[];var $={mountOrder:1,currentOwner:null,controlledCbs:[],fireRef:function(e,t,r){(e._disposed||e._isStateless)&&(t=null);var n=r.ref;if("function"==typeof n)return n(t);var a=r._owner;if(n){if(!a)throw"Element ref was specified as a string ("+n+") but no owner was set";t?(t.nodeType&&(t.getDOMNode=o),a.refs[n]=t):delete a.refs[n]}}};a.prototype={getDOMNode:function(){return this.stateNode||null},$$typeof:T};var D,H,P,W,B=E&&Symbol.iterator,q="@@iterator",U=p.prototype={contains:Boolean};String("replaceChild,appendChild,removeAttributeNS,setAttributeNS,removeAttribute,setAttribute,getAttribute,insertBefore,removeChild,addEventListener,removeEventListener,attachEvent,detachEvent").replace(/\w+/g,function(e){U[e]=function(){console.log("fire "+e)}});var V=new p;V.createElement=V.createElementNS=V.createDocumentFragment=function(e){return new p(e)},V.createTextNode=V.createComment=Boolean,V.documentElement=new p("html"),V.body=new p("body"),V.nodeName="#document",V.textContent="";try{var z=window;z.alert}catch(e){!1,z={document:V}}var G=z,X=z.document||V,Z=(X.createDocumentFragment(),{88:7,80:6,"00":NaN,"08":NaN}),J=X.documentMode||Z[n(X.all)+""+n(G.XMLHttpRequest)],K=(/NaN|undefined/.test(J),/["'&<>]/),Q=/^-?\d+(\.\d+)?$/,Y=r("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),ee=(r("float","cssFloat"),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),te={ref:1,key:1,children:1,dangerouslySetInnerHTML:1,innerHTML:1},re={styleFloat:"float",cssFloat:"float"},ne=/^xlink:?(.+)/,oe={},ae={select:1,input:1,textarea:1},ie=regeneratorRuntime.mark(N),ue=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];return{renderToString:M,renderToStaticMarkup:M,renderToNodeStream:A,renderToStaticNodeStream:A}});